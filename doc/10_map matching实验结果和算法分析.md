# fmm与emm的实验对比以及结果分析


1. FMM算法存在的问题
    FMM算法中相比HMM算法更改了转移概率的计算公式，导致在计算了转移概率和观测概率的乘积后，gps点有可能匹配到最接近的路段上，不符合实际情况。

    解决办法：若将算法中的转移概率用HMM算法中的计算方式来解决，其匹配结果还是很准确的。

    如下图所示：红线是模拟的gps轨迹，黑线是匹配轨迹，红色箭头所指的点匹配到绿色箭头所指的绿色点处更合适。


![](https://github.com/Konfuse/TR-Flink/blob/master/doc/pic/FMM_problem.png)

2. EMM算法中存在的问题
   由于算法没有考虑gps点相对于路径的观测概率的影响，只是找到了一条具有最小权重的路径。因此在gps点匹配到了同一路径的首点、末点、以及垂直点情况下，会随机选择其中一个点进行匹配。此时虽然路径结果正确，但是匹配点错误。因此，算法在采样率较高时其会有较好的效果。情况如下图所示。

   暂时考虑的办法是：在原始权重下考虑一个与观测概率相关的权重。

![](https://github.com/Konfuse/TR-Flink/blob/master/doc/pic/EMM_Problem.png)